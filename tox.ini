[tox]
requires =
    tox-uv>=1.25
    tox-gh>=1.5
env_list =
    py{310,311,312,313,314}
    lint
    docs

[gh]
python =
    3.10 = py310
    3.11 = py311
    3.12 = py312
    3.13 = py313
    3.14 = py314

[testenv]
runner = uv-venv-lock-runner
package = editable
commands =
    pytest packages/agentic-crew/tests/ packages/pytest-agentic-crew/tests/ {posargs:-v --tb=short}

[testenv:lint]
skip_install = true
commands =
    uvx ruff check packages/agentic-crew/ packages/pytest-agentic-crew/
    uvx ruff format --check packages/agentic-crew/ packages/pytest-agentic-crew/

[testenv:docs]
extras = docs
commands =
    sphinx-build -b markdown docs/sphinx docs/src/content/docs/api/_generated
