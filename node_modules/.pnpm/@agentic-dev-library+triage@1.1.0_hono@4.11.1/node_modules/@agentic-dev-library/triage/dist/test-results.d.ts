/**
 * Strata Test Results Format
 *
 * Custom test result format designed for AI-powered triage and diagnosis.
 * Used by both Vitest and Playwright reporters.
 */
export interface TestResult {
    /** Unique test identifier */
    id: string;
    /** Test name/title */
    name: string;
    /** Full test path (describe blocks) */
    fullName: string;
    /** Source file containing the test */
    file: string;
    /** Line number in source file */
    line?: number;
    /** Test status */
    status: 'passed' | 'failed' | 'skipped' | 'todo';
    /** Duration in milliseconds */
    duration: number;
    /** Error details if failed */
    error?: TestError;
    /** Retry attempt number */
    retry?: number;
    /** Tags/annotations */
    tags?: string[];
}
export interface TestError {
    /** Error message */
    message: string;
    /** Stack trace */
    stack?: string;
    /** Expected value (for assertion errors) */
    expected?: unknown;
    /** Actual value (for assertion errors) */
    actual?: unknown;
    /** Diff between expected and actual */
    diff?: string;
    /** Code snippet around the failure */
    codeFrame?: string;
}
export interface TestFile {
    /** File path */
    path: string;
    /** Tests in this file */
    tests: TestResult[];
    /** Setup/teardown errors */
    setupError?: TestError;
    /** File-level duration */
    duration: number;
}
export interface CoverageData {
    /** Total lines */
    lines: {
        total: number;
        covered: number;
        percentage: number;
    };
    /** Total functions */
    functions: {
        total: number;
        covered: number;
        percentage: number;
    };
    /** Total branches */
    branches: {
        total: number;
        covered: number;
        percentage: number;
    };
    /** Total statements */
    statements: {
        total: number;
        covered: number;
        percentage: number;
    };
    /** Per-file coverage */
    files: FileCoverage[];
}
export interface FileCoverage {
    /** File path */
    path: string;
    /** Line coverage */
    lines: {
        total: number;
        covered: number;
        percentage: number;
    };
    /** Uncovered line numbers */
    uncoveredLines: number[];
    /** Function coverage */
    functions: {
        total: number;
        covered: number;
        percentage: number;
    };
    /** Uncovered function names */
    uncoveredFunctions: string[];
}
export interface TestReport {
    /** Report format version */
    version: '1.0';
    /** Report generation timestamp */
    timestamp: string;
    /** Test runner (vitest, playwright, etc.) */
    runner: string;
    /** Test type */
    type: 'unit' | 'integration' | 'e2e';
    /** Summary statistics */
    summary: {
        total: number;
        passed: number;
        failed: number;
        skipped: number;
        duration: number;
    };
    /** Test files */
    files: TestFile[];
    /** Coverage data (if available) */
    coverage?: CoverageData;
    /** Git context */
    git?: {
        branch: string;
        commit: string;
        author?: string;
        message?: string;
    };
    /** CI context */
    ci?: {
        provider: string;
        runId: string;
        runUrl?: string;
        prNumber?: number;
        issueNumbers?: number[];
    };
}
/**
 * Parse test report from JSON file
 */
export declare function parseTestReport(json: string): TestReport;
/**
 * Get failed tests from report
 */
export declare function getFailedTests(report: TestReport): TestResult[];
/**
 * Get tests by file
 */
export declare function getTestsByFile(report: TestReport, filePath: string): TestResult[];
/**
 * Get low coverage files
 */
export declare function getLowCoverageFiles(report: TestReport, threshold?: number): FileCoverage[];
/**
 * Get uncovered functions
 */
export declare function getUncoveredFunctions(report: TestReport): {
    file: string;
    functions: string[];
}[];
/**
 * Format test results for AI analysis
 */
export declare function formatForAI(report: TestReport): string;
//# sourceMappingURL=test-results.d.ts.map