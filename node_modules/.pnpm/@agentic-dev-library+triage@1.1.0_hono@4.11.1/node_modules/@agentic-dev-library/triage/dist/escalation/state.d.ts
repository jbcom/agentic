/**
 * Escalation State Management
 *
 * Tracks the progression of tasks through the 7-level escalation ladder.
 * Maintains attempt counts, errors, resolution status, and cost tracking.
 */
/**
 * The 7 escalation levels
 * - 0: Static Analysis (lint/tsc) - Free, instant
 * - 1: Complexity Evaluation (Ollama) - Free, routes to 2 or 3
 * - 2: Ollama Fix - Free, simple fixes
 * - 3: Jules Session - Free tier, complex work
 * - 4: Jules + Boosted Context - Free tier, more context
 * - 5: Human Review Queue - Free, awaits approval
 * - 6: Cloud Agent (Cursor) - Expensive, requires approval
 */
export type EscalationLevel = 0 | 1 | 2 | 3 | 4 | 5 | 6;
/**
 * State for a single task progressing through escalation levels
 */
export interface EscalationState {
    /** Unique task identifier */
    taskId: string;
    /** Current escalation level (0-6) */
    level: EscalationLevel;
    /** Attempt counts per level */
    attempts: Record<string, number>;
    /** Error messages encountered */
    errors: string[];
    /** Whether the task has been resolved */
    resolved: boolean;
    /** Total cost incurred (in cents) */
    cost: number;
    /** Timestamp when state was created */
    createdAt: string;
    /** Timestamp of last update */
    updatedAt: string;
    /** Whether human approval has been granted for cloud agents */
    approved: boolean;
}
/**
 * Manager for escalation states across multiple tasks
 */
export declare class EscalationStateManager {
    private states;
    /**
     * Create or get state for a task
     */
    getState(taskId: string): EscalationState;
    /**
     * Update state for a task
     */
    updateState(taskId: string, update: Partial<Omit<EscalationState, 'taskId' | 'createdAt'>>): EscalationState;
    /**
     * Record an attempt at a level
     */
    recordAttempt(taskId: string, level: EscalationLevel): EscalationState;
    /**
     * Record an error
     */
    recordError(taskId: string, error: string): EscalationState;
    /**
     * Escalate to next level
     */
    escalate(taskId: string): EscalationState;
    /**
     * Mark task as resolved
     */
    resolve(taskId: string): EscalationState;
    /**
     * Add cost to task
     */
    addCost(taskId: string, cost: number): EscalationState;
    /**
     * Set approval status
     */
    setApproval(taskId: string, approved: boolean): EscalationState;
    /**
     * Reset state for a task
     */
    resetState(taskId: string): void;
    /**
     * Get all states
     */
    getAllStates(): EscalationState[];
    /**
     * Get unresolved states
     */
    getUnresolved(): EscalationState[];
    /**
     * Clear all states
     */
    clear(): void;
    /**
     * Get total cost across all tasks
     */
    getTotalCost(): number;
}
//# sourceMappingURL=state.d.ts.map